(()=>{var Oe=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Ve=Oe((fo,we)=>{"use strict";function xe(i){return(xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(i)}(function(){var i=function(){for(var e,t,s=[],r=window,o=r;o;){try{if(o.frames.__tcfapiLocator){e=o;break}}catch{}if(o===r.top)break;o=o.parent}e||(function n(){var l=r.document,a=!!r.frames.__tcfapiLocator;if(!a)if(l.body){var f=l.createElement("iframe");f.style.cssText="display:none",f.name="__tcfapiLocator",l.body.appendChild(f)}else setTimeout(n,5);return!a}(),r.__tcfapi=function(){for(var n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];if(!l.length)return s;l[0]==="setGdprApplies"?l.length>3&&parseInt(l[1],10)===2&&typeof l[3]=="boolean"&&(t=l[3],typeof l[2]=="function"&&l[2]("set",!0)):l[0]==="ping"?typeof l[2]=="function"&&l[2]({gdprApplies:t,cmpLoaded:!1,cmpStatus:"stub"}):s.push(l)},r.addEventListener("message",function(n){var l=typeof n.data=="string",a={};if(l)try{a=JSON.parse(n.data)}catch{}else a=n.data;var f=xe(a)==="object"&&a!==null?a.__tcfapiCall:null;f&&window.__tcfapi(f.command,f.version,function(m,_){var v={__tcfapiReturn:{returnValue:m,success:_,callId:f.callId}};n&&n.source&&n.source.postMessage&&n.source.postMessage(l?JSON.stringify(v):v,"*")},f.parameter)},!1))};typeof we<"u"?we.exports=i:i()})()});var S;(function(i){i.PING="ping",i.GET_TC_DATA="getTCData",i.GET_IN_APP_TC_DATA="getInAppTCData",i.GET_VENDOR_LIST="getVendorList",i.ADD_EVENT_LISTENER="addEventListener",i.REMOVE_EVENT_LISTENER="removeEventListener"})(S||(S={}));var D;(function(i){i.STUB="stub",i.LOADING="loading",i.LOADED="loaded",i.ERROR="error"})(D||(D={}));var M;(function(i){i.VISIBLE="visible",i.HIDDEN="hidden",i.DISABLED="disabled"})(M||(M={}));var Y;(function(i){i.TC_LOADED="tcloaded",i.CMP_UI_SHOWN="cmpuishown",i.USER_ACTION_COMPLETE="useractioncomplete"})(Y||(Y={}));var k=class{listenerId;callback;next;param;success=!0;constructor(e,t,s,r){Object.assign(this,{callback:e,listenerId:s,param:t,next:r});try{this.respond()}catch{this.invokeCallback(null)}}invokeCallback(e){let t=e!==null;typeof this.next=="function"?this.callback(this.next,e,t):this.callback(e,t)}};var U=class extends k{respond(){this.throwIfParamInvalid(),this.invokeCallback(new K(this.param,this.listenerId))}throwIfParamInvalid(){if(this.param!==void 0&&(!Array.isArray(this.param)||!this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}};var ne=class{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach((e,t)=>{new U(e.callback,e.param,t,e.next)})}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}};var d=class{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new ne;static cmpStatus=D.LOADING;static disabled=!1;static displayStatus=M.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=D.LOADING,this.disabled=!1,this.displayStatus=M.HIDDEN,this.eventQueue.clear()}};var Q=class{cmpId=d.cmpId;cmpVersion=d.cmpVersion;gdprApplies=d.gdprApplies;tcfPolicyVersion=d.tcfPolicyVersion};var ae=class extends Q{cmpStatus=D.ERROR};var K=class extends Q{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardStacks;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=d.eventStatus,this.cmpStatus=d.cmpStatus,this.listenerId=t,d.gdprApplies){let s=d.tcModel;this.tcString=d.tcString,this.isServiceSpecific=s.isServiceSpecific,this.useNonStandardStacks=s.useNonStandardStacks,this.purposeOneTreatment=s.purposeOneTreatment,this.publisherCC=s.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(s.vendorsAllowed,e),disclosedVendors:this.createVectorField(s.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(s.purposeConsents),legitimateInterests:this.createVectorField(s.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(s.vendorConsents,e),legitimateInterests:this.createVectorField(s.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(s.specialFeatureOptins),this.publisher={consents:this.createVectorField(s.publisherConsents),legitimateInterests:this.createVectorField(s.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(s.publisherCustomConsents),legitimateInterests:this.createVectorField(s.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(s.publisherRestrictions)}}}createRestrictions(e){let t={};if(e.numRestrictions>0){let s=e.getMaxVendorId();for(let r=1;r<=s;r++){let o=r.toString();e.getRestrictions(r).forEach(n=>{let l=n.purposeId.toString();t[l]||(t[l]={}),t[l][o]=n.restrictionType})}}return t}createVectorField(e,t){return t?t.reduce((s,r)=>(s[String(r)]=e.has(Number(r)),s),{}):[...e].reduce((s,r)=>(s[r[0].toString(10)]=r[1],s),{})}};var ce=class extends K{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce((t,s)=>(t+=s[1]?"1":"0",t),"")}createRestrictions(e){let t={};if(e.numRestrictions>0){let s=e.getMaxVendorId();e.getRestrictions().forEach(r=>{t[r.purposeId.toString()]="_".repeat(s)});for(let r=0;r<s;r++){let o=r+1;e.getRestrictions(o).forEach(n=>{let l=n.restrictionType.toString(),a=n.purposeId.toString(),f=t[a].substr(0,r),m=t[a].substr(r+1);t[a]=f+l+m})}}return t}};var le=class extends Q{cmpLoaded=!0;cmpStatus=d.cmpStatus;displayStatus=d.displayStatus;apiVersion=String(d.apiVersion);gvlVersion;constructor(){super(),d.tcModel&&d.tcModel.vendorListVersion&&(this.gvlVersion=+d.tcModel.vendorListVersion)}};var pe=class extends k{respond(){this.invokeCallback(new le)}};var de=class extends U{respond(){this.throwIfParamInvalid(),this.invokeCallback(new ce(this.param))}};var b=class extends Error{constructor(e){super(e),this.name="DecodingError"}};var y=class extends Error{constructor(e){super(e),this.name="EncodingError"}};var $=class extends Error{constructor(e){super(e),this.name="GVLError"}};var L=class extends Error{constructor(e,t,s=""){super(`invalid value ${t} passed for ${e} ${s}`),this.name="TCModelError"}};var z=class{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new y("Invalid bitField");let t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let s="";for(let r=0;r<e.length;r+=this.BASIS)s+=this.DICT[parseInt(e.substr(r,this.BASIS),2)];return s}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new b("Invalidly encoded Base64URL string");let t="";for(let s=0;s<e.length;s++){let r=this.REVERSE_DICT.get(e[s]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}};var x=class{clone(){let e=new this.constructor;return Object.keys(this).forEach(s=>{let r=this.deepClone(this[s]);r!==void 0&&(e[s]=r)}),e}deepClone(e){let t=typeof e;if(t==="number"||t==="string"||t==="boolean")return e;if(e!==null&&t==="object"){if(typeof e.clone=="function")return e.clone();if(e instanceof Date)return new Date(e.getTime());if(e[Symbol.iterator]!==void 0){let s=[];for(let r of e)s.push(this.deepClone(r));return e instanceof Array?s:new e.constructor(s)}else{let s={};for(let r in e)e.hasOwnProperty(r)&&(s[r]=this.deepClone(e[r]));return s}}}};var te=class i extends x{root=null;getRoot(){return this.root}isEmpty(){return!this.root}add(e){let t={value:e,left:null,right:null},s;if(this.isEmpty())this.root=t;else for(s=this.root;;)if(e<s.value)if(s.left===null){s.left=t;break}else s=s.left;else if(e>s.value)if(s.right===null){s.right=t;break}else s=s.right;else break}get(){let e=[],t=this.root;for(;t;)if(!t.left)e.push(t.value),t=t.right;else{let s=t.left;for(;s.right&&s.right!=t;)s=s.right;s.right==t?(s.right=null,e.push(t.value),t=t.right):(s.right=t,t=t.left)}return e}contains(e){let t=!1,s=this.root;for(;s;)if(s.value===e){t=!0;break}else e>s.value?s=s.right:e<s.value&&(s=s.left);return t}min(e=this.root){let t;for(;e;)e.left?e=e.left:(t=e.value,e=null);return t}max(e=this.root){let t;for(;e;)e.right?e=e.right:(t=e.value,e=null);return t}remove(e,t=this.root){let s=null,r="left";for(;t;)if(e<t.value)s=t,t=t.left,r="left";else if(e>t.value)s=t,t=t.right,r="right";else{if(!t.left&&!t.right)s?s[r]=null:this.root=null;else if(!t.left)s?s[r]=t.right:this.root=t.right;else if(!t.right)s?s[r]=t.left:this.root=t.left;else{let o=this.min(t.right);this.remove(o,t.right),t.value=o}t=null}}static build(e){if(!e||e.length===0)return null;if(e.length===1){let t=new i;return t.add(e[0]),t}else{let t=e.length>>1,s=new i;s.add(e[t]);let r=s.getRoot();if(r){if(t+1<e.length){let o=i.build(e.slice(t+1));r.right=o?o.getRoot():null}if(t-1>0){let o=i.build(e.slice(0,t-1));r.left=o?o.getRoot():null}}return s}}};var ue=class i{static langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);has(e){return i.langSet.has(e)}forEach(e){i.langSet.forEach(e)}get size(){return i.langSet.size}};var c=class{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardStacks="useNonStandardStacks";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"};var T;(function(i){i[i.NOT_ALLOWED=0]="NOT_ALLOWED",i[i.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",i[i.REQUIRE_LI=2]="REQUIRE_LI"})(T||(T={}));var G=class i extends x{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),e!==void 0&&(this.purposeId=e),t!==void 0&&(this.restrictionType=t)}static unHash(e){let t=e.split(this.hashSeparator),s=new i;if(t.length!==2)throw new L("hash",e);return s.purposeId=parseInt(t[0],10),s.restrictionType=parseInt(t[1],10),s}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${i.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===T.NOT_ALLOWED||this.restrictionType===T.REQUIRE_CONSENT||this.restrictionType===T.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}};var Z=class extends x{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,s){let r=!0;if(this.gvl?.vendors){let o=this.gvl.vendors[s];if(o)if(e===T.NOT_ALLOWED)r=o.legIntPurposes.includes(t)||o.purposes.includes(t);else if(o.flexiblePurposes.length)switch(e){case T.REQUIRE_CONSENT:r=o.flexiblePurposes.includes(t)&&o.legIntPurposes.includes(t);break;case T.REQUIRE_LI:r=o.flexiblePurposes.includes(t)&&o.purposes.includes(t);break}else r=!1;else r=!1}return r}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){let s=t.hash;this.has(s)||(this.map.set(s,new te),this.bitLength=0),this.map.get(s).add(e)}}restrictPurposeToLegalBasis(e){let t=this.gvl.vendorIds,s=e.hash,r=function(){let n;for(n of t);return n}(),o=[...Array(r).keys()].map(n=>n+1);for(let n=1;n<=r;n++)this.has(s)||(this.map.set(s,te.build(o)),this.bitLength=0),this.map.get(s).add(n)}getVendors(e){let t=[];if(e){let s=e.hash;this.has(s)&&(t=this.map.get(s).get())}else{let s=new Set;this.map.forEach(r=>{r.get().forEach(o=>{s.add(o)})}),t=Array.from(s)}return t}getRestrictionType(e,t){let s;return this.getRestrictions(e).forEach(r=>{r.purposeId===t&&(s===void 0||s>r.restrictionType)&&(s=r.restrictionType)}),s}vendorHasRestriction(e,t){let s=!1,r=this.getRestrictions(e);for(let o=0;o<r.length&&!s;o++)s=t.isSameAs(r[o]);return s}getMaxVendorId(){let e=0;return this.map.forEach(t=>{e=Math.max(t.max(),e)}),e}getRestrictions(e){let t=[];return this.map.forEach((s,r)=>{e?s.contains(e)&&t.push(G.unHash(r)):t.push(G.unHash(r))}),t}getPurposes(){let e=new Set;return this.map.forEach((t,s)=>{e.add(G.unHash(s).purposeId)}),Array.from(e)}remove(e,t){let s=t.hash,r=this.map.get(s);r&&(r.remove(e),r.isEmpty()&&(this.map.delete(s),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach((t,s)=>{let r=G.unHash(s);t.get().forEach(n=>{this.isOkToHave(r.restrictionType,r.purposeId,n)||t.remove(n)})}))}get gvl(){return this.gvl_}isEmpty(){return this.map.size===0}get numRestrictions(){return this.map.size}};var Le;(function(i){i.COOKIE="cookie",i.WEB="web",i.APP="app"})(Le||(Le={}));var g;(function(i){i.CORE="core",i.VENDORS_DISCLOSED="vendorsDisclosed",i.VENDORS_ALLOWED="vendorsAllowed",i.PUBLISHER_TC="publisherTC"})(g||(g={}));var X=class{static ID_TO_KEY=[g.CORE,g.VENDORS_DISCLOSED,g.VENDORS_ALLOWED,g.PUBLISHER_TC];static KEY_TO_ID={[g.CORE]:0,[g.VENDORS_DISCLOSED]:1,[g.VENDORS_ALLOWED]:2,[g.PUBLISHER_TC]:3}};var I=class extends x{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach(t=>this.unset(t)):typeof e=="object"?this.unset(Object.keys(e).map(t=>Number(t))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(t=>{this.maxId_=Math.max(this.maxId,t)})))}isIntMap(e){let t=typeof e=="object";return t=t&&Object.keys(e).every(s=>{let r=Number.isInteger(parseInt(s,10));return r=r&&this.isValidNumber(e[s].id),r=r&&e[s].name!==void 0,r}),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach(t=>this.set(t));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(t=>Number(t)));else if(this.isValidNumber(e))this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0;else throw new L("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap")}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}};var p=class{static[c.cmpId]=12;static[c.cmpVersion]=12;static[c.consentLanguage]=12;static[c.consentScreen]=6;static[c.created]=36;static[c.isServiceSpecific]=1;static[c.lastUpdated]=36;static[c.policyVersion]=6;static[c.publisherCountryCode]=12;static[c.publisherLegitimateInterests]=24;static[c.publisherConsents]=24;static[c.purposeConsents]=24;static[c.purposeLegitimateInterests]=24;static[c.purposeOneTreatment]=1;static[c.specialFeatureOptins]=12;static[c.useNonStandardStacks]=1;static[c.vendorListVersion]=12;static[c.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16};var A=class{static encode(e){return String(Number(e))}static decode(e){return e==="1"}};var h=class{static encode(e,t){let s;if(typeof e=="string"&&(e=parseInt(e,10)),s=e.toString(2),s.length>t||e<0)throw new y(`${e} too large to encode into ${t}`);return s.length<t&&(s="0".repeat(t-s.length)+s),s}static decode(e,t){if(t!==e.length)throw new b("invalid bit length");return parseInt(e,2)}};var se=class{static encode(e,t){return h.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new b("invalid bit length");let s=new Date;return s.setTime(h.decode(e,t)*100),s}};var P=class{static encode(e,t){let s="";for(let r=1;r<=t;r++)s+=A.encode(e.has(r));return s}static decode(e,t){if(e.length!==t)throw new b("bitfield encoding length mismatch");let s=new I;for(let r=1;r<=t;r++)A.decode(e[r-1])&&s.set(r);return s.bitLength=e.length,s}};var re=class{static encode(e,t){e=e.toUpperCase();let s=65,r=e.charCodeAt(0)-s,o=e.charCodeAt(1)-s;if(r<0||r>25||o<0||o>25)throw new y(`invalid language code: ${e}`);if(t%2===1)throw new y(`numBits must be even, ${t} is not valid`);t=t/2;let n=h.encode(r,t),l=h.encode(o,t);return n+l}static decode(e,t){let s;if(t===e.length&&!(e.length%2)){let o=e.length/2,n=h.decode(e.slice(0,o),o)+65,l=h.decode(e.slice(o),o)+65;s=String.fromCharCode(n)+String.fromCharCode(l)}else throw new b("invalid bit length for language");return s}};var he=class{static encode(e){let t=h.encode(e.numRestrictions,p.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach(s=>{t+=h.encode(s.purposeId,p.purposeId),t+=h.encode(s.restrictionType,p.restrictionType);let r=e.getVendors(s),o=r.length,n=0,l=0,a="";for(let f=0;f<o;f++){let m=r[f];l===0&&(n++,l=m);let _=r[o-1],v=e.gvl.vendorIds,F=N=>{for(;++N<=_&&!v.has(N););return N};if(f===o-1||r[f+1]>F(m)){let N=m!==l;a+=A.encode(N),a+=h.encode(l,p.vendorId),N&&(a+=h.encode(m,p.vendorId)),l=0}}t+=h.encode(n,p.numEntries),t+=a}),t}static decode(e){let t=0,s=new Z,r=h.decode(e.substr(t,p.numRestrictions),p.numRestrictions);t+=p.numRestrictions;for(let o=0;o<r;o++){let n=h.decode(e.substr(t,p.purposeId),p.purposeId);t+=p.purposeId;let l=h.decode(e.substr(t,p.restrictionType),p.restrictionType);t+=p.restrictionType;let a=new G(n,l),f=h.decode(e.substr(t,p.numEntries),p.numEntries);t+=p.numEntries;for(let m=0;m<f;m++){let _=A.decode(e.substr(t,p.anyBoolean));t+=p.anyBoolean;let v=h.decode(e.substr(t,p.vendorId),p.vendorId);if(t+=p.vendorId,_){let F=h.decode(e.substr(t,p.vendorId),p.vendorId);if(t+=p.vendorId,F<v)throw new b(`Invalid RangeEntry: endVendorId ${F} is less than ${v}`);for(let N=v;N<=F;N++)s.add(N,a)}else s.add(v,a)}}return s.bitLength=t,s}};var ee;(function(i){i[i.FIELD=0]="FIELD",i[i.RANGE=1]="RANGE"})(ee||(ee={}));var H=class{static encode(e){let t=[],s=[],r=h.encode(e.maxId,p.maxId),o="",n,l=p.maxId+p.encodingType,a=l+e.maxId,f=p.vendorId*2+p.singleOrRange+p.numEntries,m=l+p.numEntries;return e.forEach((_,v)=>{o+=A.encode(_),n=e.maxId>f&&m<a,n&&_&&(e.has(v+1)?s.length===0&&(s.push(v),m+=p.singleOrRange,m+=p.vendorId):(s.push(v),m+=p.vendorId,t.push(s),s=[]))}),n?(r+=String(ee.RANGE),r+=this.buildRangeEncoding(t)):(r+=String(ee.FIELD),r+=o),r}static decode(e,t){let s,r=0,o=h.decode(e.substr(r,p.maxId),p.maxId);r+=p.maxId;let n=h.decode(e.charAt(r),p.encodingType);if(r+=p.encodingType,n===ee.RANGE){if(s=new I,t===1){if(e.substr(r,1)==="1")throw new b("Unable to decode default consent=1");r++}let l=h.decode(e.substr(r,p.numEntries),p.numEntries);r+=p.numEntries;for(let a=0;a<l;a++){let f=A.decode(e.charAt(r));r+=p.singleOrRange;let m=h.decode(e.substr(r,p.vendorId),p.vendorId);if(r+=p.vendorId,f){let _=h.decode(e.substr(r,p.vendorId),p.vendorId);r+=p.vendorId;for(let v=m;v<=_;v++)s.set(v)}else s.set(m)}}else{let l=e.substr(r,o);r+=o,s=P.decode(l,o)}return s.bitLength=r,s}static buildRangeEncoding(e){let t=e.length,s=h.encode(t,p.numEntries);return e.forEach(r=>{let o=r.length===1;s+=A.encode(!o),s+=h.encode(r[0],p.vendorId),o||(s+=h.encode(r[1],p.vendorId))}),s}};function Ae(){return{[c.version]:h,[c.created]:se,[c.lastUpdated]:se,[c.cmpId]:h,[c.cmpVersion]:h,[c.consentScreen]:h,[c.consentLanguage]:re,[c.vendorListVersion]:h,[c.policyVersion]:h,[c.isServiceSpecific]:A,[c.useNonStandardStacks]:A,[c.specialFeatureOptins]:P,[c.purposeConsents]:P,[c.purposeLegitimateInterests]:P,[c.purposeOneTreatment]:A,[c.publisherCountryCode]:re,[c.vendorConsents]:H,[c.vendorLegitimateInterests]:H,[c.publisherRestrictions]:he,segmentType:h,[c.vendorsDisclosed]:H,[c.vendorsAllowed]:H,[c.publisherConsents]:P,[c.publisherLegitimateInterests]:P,[c.numCustomPurposes]:h,[c.publisherCustomConsents]:P,[c.publisherCustomLegitimateInterests]:P}}var fe=class{1={[g.CORE]:[c.version,c.created,c.lastUpdated,c.cmpId,c.cmpVersion,c.consentScreen,c.consentLanguage,c.vendorListVersion,c.purposeConsents,c.vendorConsents]};2={[g.CORE]:[c.version,c.created,c.lastUpdated,c.cmpId,c.cmpVersion,c.consentScreen,c.consentLanguage,c.vendorListVersion,c.policyVersion,c.isServiceSpecific,c.useNonStandardStacks,c.specialFeatureOptins,c.purposeConsents,c.purposeLegitimateInterests,c.purposeOneTreatment,c.publisherCountryCode,c.vendorConsents,c.vendorLegitimateInterests,c.publisherRestrictions],[g.PUBLISHER_TC]:[c.publisherConsents,c.publisherLegitimateInterests,c.numCustomPurposes,c.publisherCustomConsents,c.publisherCustomLegitimateInterests],[g.VENDORS_ALLOWED]:[c.vendorsAllowed],[g.VENDORS_DISCLOSED]:[c.vendorsDisclosed]}};var me=class{1=[g.CORE];2=[g.CORE];constructor(e,t){if(e.version===2)if(e.isServiceSpecific)this[2].push(g.PUBLISHER_TC);else{let s=!!(t&&t.isForVendors);(!s||e[c.supportOOB]===!0)&&this[2].push(g.VENDORS_DISCLOSED),s&&(e[c.supportOOB]&&e[c.vendorsAllowed].size>0&&this[2].push(g.VENDORS_ALLOWED),this[2].push(g.PUBLISHER_TC))}}};var ie=class{static fieldSequence=new fe;static encode(e,t){let s;try{s=this.fieldSequence[String(e.version)][t]}catch{throw new y(`Unable to encode version: ${e.version}, segment: ${t}`)}let r="";t!==g.CORE&&(r=h.encode(X.KEY_TO_ID[t],p.segmentType));let o=Ae();return s.forEach(n=>{let l=e[n],a=o[n],f=p[n];f===void 0&&this.isPublisherCustom(n)&&(f=Number(e[c.numCustomPurposes]));try{r+=a.encode(l,f)}catch(m){throw new y(`Error encoding ${t}->${n}: ${m.message}`)}}),z.encode(r)}static decode(e,t,s){let r=z.decode(e),o=0;s===g.CORE&&(t.version=h.decode(r.substr(o,p[c.version]),p[c.version])),s!==g.CORE&&(o+=p.segmentType);let n=this.fieldSequence[String(t.version)][s],l=Ae();return n.forEach(a=>{let f=l[a],m=p[a];if(m===void 0&&this.isPublisherCustom(a)&&(m=Number(t[c.numCustomPurposes])),m!==0){let _=r.substr(o,m);if(f===H?t[a]=f.decode(_,t.version):t[a]=f.decode(_,m),Number.isInteger(m))o+=m;else if(Number.isInteger(t[a].bitLength))o+=t[a].bitLength;else throw new b(a)}}),t}static isPublisherCustom(e){return e.indexOf("publisherCustom")===0}};var ge=class{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);let s=new Map;return s.set("legIntPurposes",e.vendorLegitimateInterests),s.set("purposes",e.vendorConsents),s.forEach((r,o)=>{r.forEach((n,l)=>{if(n){let a=t.vendors[l];if(!a||a.deletedDate)r.unset(l);else if(a[o].length===0&&!(o==="legIntPurposes"&&a.purposes.length===0&&a.legIntPurposes.length===0&&a.specialPurposes.length>0))if(e.isServiceSpecific)if(a.flexiblePurposes.length===0)r.unset(l);else{let f=e.publisherRestrictions.getRestrictions(l),m=!1;for(let _=0,v=f.length;_<v&&!m;_++)m=f[_].restrictionType===T.REQUIRE_CONSENT&&o==="purposes"||f[_].restrictionType===T.REQUIRE_LI&&o==="legIntPurposes";m||r.unset(l)}else r.unset(l)}})}),e.vendorsDisclosed.set(t.vendors),e}];static process(e,t){let s=e.gvl;if(!s)throw new y("Unable to encode TCModel without a GVL");if(!s.isReady)throw new y("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");e=e.clone(),e.consentLanguage=s.language.toUpperCase(),t?.version>0&&t?.version<=this.processor.length?e.version=t.version:e.version=this.processor.length;let r=e.version-1;if(!this.processor[r])throw new y(`Invalid version: ${e.version}`);return this.processor[r](e,s)}};var Ee=class{static absCall(e,t,s,r){return new Promise((o,n)=>{let l=new XMLHttpRequest,a=()=>{if(l.readyState==XMLHttpRequest.DONE)if(l.status>=200&&l.status<300){let v=l.response;if(typeof v=="string")try{v=JSON.parse(v)}catch{}o(v)}else n(new Error(`HTTP Status: ${l.status} response type: ${l.responseType}`))},f=()=>{n(new Error("error"))},m=()=>{n(new Error("aborted"))},_=()=>{n(new Error("Timeout "+r+"ms "+e))};l.withCredentials=s,l.addEventListener("load",a),l.addEventListener("error",f),l.addEventListener("abort",m),t===null?l.open("GET",e,!0):l.open("POST",e,!0),l.responseType="json",l.timeout=r,l.ontimeout=_,l.send(t)})}static post(e,t,s=!1,r=0){return this.absCall(e,JSON.stringify(t),s,r)}static fetch(e,t=!1,s=0){return this.absCall(e,null,t,s)}};var R=class i extends x{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new ue;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new $("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&e[e.length-1]!=="/"&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;lang_;isLatest=!1;constructor(e){super();let t=i.baseUrl;if(this.lang_=i.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new $("must specify GVL.baseUrl before loading GVL json");if(e>0){let s=e;i.CACHE.has(s)?(this.populate(i.CACHE.get(s)),this.readyPromise=Promise.resolve()):(t+=i.versionedFilename.replace("[VERSION]",String(s)),this.readyPromise=this.fetchJson(t))}else i.CACHE.has(i.LATEST_CACHE_KEY)?(this.populate(i.CACHE.get(i.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+i.latestFilename))}}static emptyLanguageCache(e){let t=!1;return e===void 0&&i.LANGUAGE_CACHE.size>0?(i.LANGUAGE_CACHE=new Map,t=!0):typeof e=="string"&&this.consentLanguages.has(e.toUpperCase())&&(i.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(i.CACHE.delete(e),t=!0):e===void 0&&(i.CACHE=new Map,t=!0),t}cacheLanguage(){i.LANGUAGE_CACHE.has(this.lang_)||i.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}async fetchJson(e){try{this.populate(await Ee.fetch(e))}catch(t){throw new $(t.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}async changeLanguage(e){let t=e.toUpperCase();if(i.consentLanguages.has(t)){if(t!==this.lang_)if(this.lang_=t,i.LANGUAGE_CACHE.has(t)){let s=i.LANGUAGE_CACHE.get(t);for(let r in s)s.hasOwnProperty(r)&&(this[r]=s[r])}else{let s=i.baseUrl+i.languageFilename.replace("[LANG]",e);try{await this.fetchJson(s),this.cacheLanguage()}catch(r){throw new $("unable to load language: "+r.message)}}}else throw new $(`unsupported language ${e}`)}get language(){return this.lang_}isVendorList(e){return e!==void 0&&e.vendors!==void 0}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,typeof this.lastUpdated=="string"&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&i.CACHE.set(i.LATEST_CACHE_KEY,this.getJson()),i.CACHE.has(this.vendorListVersion)||i.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(t=>{this.byPurposeVendorMap[t]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(t=>{this.bySpecialPurposeVendorMap[t]=new Set}),Object.keys(this.features).forEach(t=>{this.byFeatureVendorMap[t]=new Set}),Object.keys(this.specialFeatures).forEach(t=>{this.bySpecialFeatureVendorMap[t]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(t=>+t)),this.vendorIds=new Set(e),this.vendors_=e.reduce((t,s)=>{let r=this.vendors_[String(s)];return r&&r.deletedDate===void 0&&(r.purposes.forEach(o=>{this.byPurposeVendorMap[String(o)].consent.add(s)}),r.specialPurposes.forEach(o=>{this.bySpecialPurposeVendorMap[String(o)].add(s)}),r.legIntPurposes.forEach(o=>{this.byPurposeVendorMap[String(o)].legInt.add(s)}),r.flexiblePurposes&&r.flexiblePurposes.forEach(o=>{this.byPurposeVendorMap[String(o)].flexible.add(s)}),r.features.forEach(o=>{this.byFeatureVendorMap[String(o)].add(s)}),r.specialFeatures.forEach(o=>{this.bySpecialFeatureVendorMap[String(o)].add(s)}),t[s]=r),t},{})}getFilteredVendors(e,t,s,r){let o=e.charAt(0).toUpperCase()+e.slice(1),n,l={};return e==="purpose"&&s?n=this["by"+o+"VendorMap"][String(t)][s]:n=this["by"+(r?"Special":"")+o+"VendorMap"][String(t)],n.forEach(a=>{l[String(a)]=this.vendors[String(a)]}),l}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){let e=new i(this.getJson());return this.lang_!==i.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return typeof e=="object"&&typeof e.narrowVendorsTo=="function"}};var q=class extends x{static consentLanguages=R.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardStacks_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=2;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new I;purposeConsents=new I;purposeLegitimateInterests=new I;publisherConsents=new I;publisherLegitimateInterests=new I;publisherCustomConsents=new I;publisherCustomLegitimateInterests=new I;customPurposes;vendorConsents=new I;vendorLegitimateInterests=new I;vendorsDisclosed=new I;vendorsAllowed=new I;publisherRestrictions=new Z;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){R.isInstanceOf(e)||(e=new R(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),Number.isInteger(e)&&e>1)this.cmpId_=e;else throw new L("cmpId",e)}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),Number.isInteger(e)&&e>-1)this.cmpVersion_=e;else throw new L("cmpVersion",e)}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),Number.isInteger(e)&&e>-1)this.consentScreen_=e;else throw new L("consentScreen",e)}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(/^([A-z]){2}$/.test(e))this.publisherCountryCode_=e.toUpperCase();else throw new L("publisherCountryCode",e)}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if(e=Number(e)>>0,e<0)throw new L("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new L("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if(typeof this.customPurposes=="object"){let t=Object.keys(this.customPurposes).sort((s,r)=>Number(s)-Number(r));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new L("numCustomPurposes",e)}updated(){let e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}};var J=class{static encode(e,t){let s="",r;return e=ge.process(e,t),Array.isArray(t?.segments)?r=t.segments:r=new me(e,t)[""+e.version],r.forEach((o,n)=>{let l="";n<r.length-1&&(l="."),s+=ie.encode(e,o)+l}),s}static decode(e,t){let s=e.split("."),r=s.length;t||(t=new q);for(let o=0;o<r;o++){let n=s[o],a=z.decode(n.charAt(0)).substr(0,p.segmentType),f=X.ID_TO_KEY[h.decode(a,p.segmentType).toString()];ie.decode(n,t,f)}return t}};var ve=class extends k{respond(){let e=d.tcModel,t=e.vendorListVersion,s;this.param===void 0&&(this.param=t),this.param===t&&e.gvl?s=e.gvl:s=new R(this.param),s.readyPromise.then(()=>{this.invokeCallback(s.getJson())})}};var _e=class extends U{respond(){this.listenerId=d.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}};var Se=class extends k{respond(){this.invokeCallback(d.eventQueue.remove(this.param))}};var W=class{static[S.PING]=pe;static[S.GET_TC_DATA]=U;static[S.GET_IN_APP_TC_DATA]=de;static[S.GET_VENDOR_LIST]=ve;static[S.ADD_EVENT_LISTENER]=_e;static[S.REMOVE_EVENT_LISTENER]=Se};var Ce=class{static set_=new Set([0,2,void 0,null]);static has(e){return typeof e=="string"&&(e=Number(e)),this.set_.has(e)}};var be="__tcfapi",Ie=class{callQueue;customCommands;constructor(e){if(e){let t=S.ADD_EVENT_LISTENER;if(e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed: Use ${S.GET_TC_DATA} instead`);if(t=S.REMOVE_EVENT_LISTENER,e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed`);e?.[S.GET_TC_DATA]&&(e[S.ADD_EVENT_LISTENER]=e[S.GET_TC_DATA],e[S.REMOVE_EVENT_LISTENER]=e[S.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[be]()||[]}catch{this.callQueue=[]}finally{window[be]=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,s,...r){if(typeof e!="string")s(null,!1);else if(!Ce.has(t))s(null,!1);else{if(typeof s!="function")throw new Error("invalid callback function");d.disabled?s(new ae,!1):!this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?s(null,!1):this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?this.customCommands[e](s,...r):e===S.PING?this.isCustomCommand(e)?new W[e](this.customCommands[e],r[0],null,s):new W[e](s,r[0]):d.tcModel===void 0?this.callQueue.push([e,t,s,...r]):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new W[e](this.customCommands[e],r[0],null,s):new W[e](s,r[0])}}purgeQueuedCalls(){let e=this.callQueue;this.callQueue=[],e.forEach(t=>{window[be](...t)})}isCustomCommand(e){return this.customCommands&&typeof this.customCommands[e]=="function"}isBuiltInCommand(e){return W[e]!==void 0}};var ye=class{callResponder;isServiceSpecific;numUpdates=0;constructor(e,t,s=!1,r){this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),d.cmpId=e,d.cmpVersion=t,d.tcfPolicyVersion=2,this.isServiceSpecific=!!s,this.callResponder=new Ie(r)}throwIfInvalidInt(e,t,s){if(!(typeof e=="number"&&Number.isInteger(e)&&e>=s))throw new Error(`Invalid ${t}: ${e}`)}update(e,t=!1){if(d.disabled)throw new Error("CmpApi Disabled");d.cmpStatus=D.LOADED,t?(d.displayStatus=M.VISIBLE,d.eventStatus=Y.CMP_UI_SHOWN):d.tcModel===void 0?(d.displayStatus=M.DISABLED,d.eventStatus=Y.TC_LOADED):(d.displayStatus=M.HIDDEN,d.eventStatus=Y.USER_ACTION_COMPLETE),d.gdprApplies=e!==null,d.gdprApplies?(e===""?(d.tcModel=new q,d.tcModel.cmpId=d.cmpId,d.tcModel.cmpVersion=d.cmpVersion):d.tcModel=J.decode(e),d.tcModel.isServiceSpecific=this.isServiceSpecific,d.tcfPolicyVersion=Number(d.tcModel.policyVersion),d.tcString=e):d.tcModel=null,this.numUpdates===0?this.callResponder.purgeQueuedCalls():d.eventQueue.exec(),this.numUpdates++}disable(){d.disabled=!0,d.cmpStatus=D.ERROR}};var De=Ve();De();function ke(){return new Date().getTime()}var Ue=()=>{function i(a){let f=window.location.origin;return a.startsWith("/")||a.startsWith("./")?!0:a.startsWith("http://")||a.startsWith("https://")?new URL(a).origin===f:!1}function e(a){return a!=null&&a.hasAttribute("cookie_status")?a.getAttribute("cookie_status")=="true":!1}let t=document.querySelectorAll("img");Array.from(t).forEach(a=>{!i(a.src)&&!e(a)&&a.removeAttribute("src")});let s=document.querySelectorAll("script");Array.from(s).forEach(a=>{!i(a.src)&&!e(a)&&a.removeAttribute("src")});let r=document.querySelectorAll("link");Array.from(r).forEach(a=>{!i(a.href)&&!e(a)&&a.parentNode.removeChild(a)});let o=document.querySelectorAll("iframe");Array.from(o).forEach(a=>{!i(a.src)&&!e(a)&&a.removeAttribute("src")});let n=document.querySelectorAll("embed");Array.from(n).forEach(a=>{i(a.src)&&!e(a)&&a.removeAttribute("src")});let l=document.querySelectorAll("a");Array.from(l).forEach(a=>{i(a.href)&&!e(a)&&a.removeAttribute("href")})},Fe=()=>{let i=[{id:1,iab_id:755,name:"Google Advertising Products",purposes:[1,3,4],legIntPurposes:[2,5,6,7,9,10],flexiblePurposes:[2,5,6,7,9,10],specialPurposes:[1],features:[1,2],specialFeatures:[],policyUrl:"https://policies.google.com/privacy",cookieMaxAgeSeconds:3419e4,usesCookies:!0,cookieRefresh:!1,usesNonCookieAccess:!0,deviceStorageDisclosureUrl:"https://www.gstatic.com/iabtcf/deviceStorageDisclosure.json"},{id:2,iab_id:25,name:"Yahoo EMEA Limited",purposes:[1,3,4,5,6],legIntPurposes:[2,7,8,9,10],flexiblePurposes:[2,7,8,9,10],specialPurposes:[1,2],features:[1,2,3],specialFeatures:[1],policyUrl:"https://legal.yahoo.com/ie/en/yahoo/privacy/index.html",cookieMaxAgeSeconds:34300800,usesCookies:!0,cookieRefresh:!0,usesNonCookieAccess:!1},{id:3,iab_id:null,name:"Custom Cookie",purposes:[1,5,6],legIntPurposes:[2,7,8,9,10],flexiblePurposes:[2,7,8,9,10],specialPurposes:[1,2],features:[1,2,3],specialFeatures:[1],policyUrl:"",cookieMaxAgeSeconds:34300800,usesCookies:!0,cookieRefresh:!0,usesNonCookieAccess:!1}],e=[],t={},s=[];R.baseUrl="/";let r=new R,o=r.clone(),n=new q(r);n.cmpId=99,n.cmpVersion=2,n.consentScreen=1,n.isServiceSpecific=!0,n.UseNonStandardStacks=0;let l=new ye(n.cmpId,n.cmpVersion,n.isServiceSpecific);n.gvl.readyPromise.then(()=>{let C=n.gvl.getJson().vendors;t=n.gvl.getJson().purposes;let E=J.encode(n);l.update(E,!1),f()});function a(){if(n)return J.encode(n)}function f(){l.update("",!0);let C=document.getElementsByTagName("body"),u=' <div class="cst_container"><div class="cst_banner"><div class="cst_main_container"><div class="cst_head"><img src="%logo%" class="cst_image"><h4 class="cst_headline">%headline%</h4></div><div class="cst_body"><p class="cst_text">%info_text%</p><div class="cst_button_wrap"><a class="cst_accept">%accept%</a><a class="cst_reject">%reject%</a><a id="cst_settings" class="cst_settings">%settings%</a></div><div class="cst_button_wrap"><a class="cst_link">%infos%</a><a class="cst_link">%imprint%</a><a class="cst_link">%privacy%</a></div></div></div><div class="cst_settings_container"><div class="cst_head"><h4 class="cst_headline">%settings_headline%</h4></div><div class="cst_body"><div class="cst_scroll">%purposes%<div class="cst_reason_container"><div class="cst_reason_info"><h5 class="cst_reason_h">Erforderlich</h5><p class="cst_reason_p">Die technische Speicherung oder der Zugang ist unbedingt erforderlich f\xFCr den rechtm\xE4\xDFigen Zweck, die Nutzung eines bestimmten Dienstes zu erm\xF6glichen, der vom Teilnehmer oder Nutzer ausdr\xFCcklich gew\xFCnscht wird, oder f\xFCr den alleinigen Zweck, die \xDCbertragung einer Nachricht \xFCber ein elektronisches Kommunikationsnetz durchzuf\xFChren.</p></div></div><a class="cst_link" id="cst_vendor_settings">%vendor_settings%</a></div><div class="cst_button_wrap"><a class="cst_accept">%accept%</a><a class="cst_reject">%reject%</a><a id="cst_settings" class="cst_settings cst_save_settings">%save_settings%</a></div><div class="cst_button_wrap"><a class="cst_link">%infos%</a><a class="cst_link">%imprint%</a><a class="cst_link">%privacy%</a></div></div></div><div class="cst_vendors_container"><div class="cst_head"><h4 class="cst_headline">%vendor_headline%</h4></div><div class="cst_body"><div class="cst_scroll">%vendors%<a class="cst_link" id="cst_reason_settings">%purpose_settings%</a></div><div class="cst_button_wrap"><a class="cst_accept">%accept%</a><a class="cst_reject">%reject%</a><a id="cst_settings" class="cst_settings cst_save_settings">%save_settings%</a></div><div class="cst_button_wrap"><a class="cst_link">%infos%</a><a class="cst_link">%imprint%</a><a class="cst_link">%privacy%</a></div></div></div></div><div class="cst_cookie_settings"><img src="https://brawltown.net/img/BT-Logo.webp"></div></div>';u=u.replaceAll("%logo%","https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Universit\xE4t_W\xFCrzburg_Logo.svg/200px-Universit\xE4t_W\xFCrzburg_Logo.svg.png"),u=u.replaceAll("%info_text%","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus rutrum sapien eu odio tempor, vel vehicula magna pulvinar. Suspendisse efficitur finibus tellus, pellentesque maximus mi sollicitudin et. Sed sollicitudin purus quis sapien tempus, ac aliquam eros elementum. Cras id nisi quis libero ultrices placerat. Nunc posuere ligula vitae risus dictum, vel placerat diam ornare. Praesent dignissim sagittis condimentum. Pellentesque finibus mauris dui, a ullamcorper risus varius ut. Duis vulputate mi id condimentum ultrices."),u=u.replaceAll("%headline%","Wir nutzen Cookies"),u=u.replaceAll("%accept%","Alle Akzeptieren"),u=u.replaceAll("%reject%","Ablehnen"),u=u.replaceAll("%settings%","Einstellungen"),u=u.replaceAll("%infos%","Mehr Infos"),u=u.replaceAll("%imprint%","Impressum"),u=u.replaceAll("%privacy%","Datenschutz"),u=u.replaceAll("%settings_headline%","Einstellungen"),u=u.replaceAll("%vendor_settings%","Anbieter Verwalten"),u=u.replaceAll("%vendor_headline%","Anbieter Verwalten"),u=u.replaceAll("%purpose_settings%","Zwecke verwalten"),u=u.replaceAll("%setting_icon%","https://brawltown.net/img/BT-Logo.webp"),u=u.replaceAll("%save_settings%","Speichern");let E="";for(let[O,oe]of Object.entries(t))E=E+'<div class="cst_reason_container"><div class="cst_reason_info"><h5 class="cst_reason_h">'+oe.name+'</h5><p class="cst_reason_p">'+oe.description+'</p></div><div class="cst_reason_consent_container"><label class="cst_reason_consent_switch"><input type="checkbox" class="cst_reason_consent_checkbox" value_id="'+oe.id+' purpose"><span class="cst_reason_consent_slider"></span></label></div></div>';u=u.replace("%purposes%",E);let B="";for(let O of i)B=B+'<div class="cst_reason_container"><div class="cst_reason_info"><h5 class="cst_reason_h">'+O.name+'</h5><p class="cst_reason_p"><b>Privacy Policy:</b> '+O.policyUrl+'<p><p class="cst_reason_p"><b>Ablaufdatum:</b> '+Math.round(O.cookieMaxAgeSeconds/(60*60*24))+'d<p><p class="cst_reason_p"><b>Zwecke:</b> '+m(O.purposes)+'<p></div><div class="cst_reason_consent_container"><label class="cst_reason_consent_switch"><input type="checkbox" class="cst_reason_consent_checkbox" value_id="'+O.id+' vendor"><span class="cst_reason_consent_slider"></span></label></div></div>';u=u.replace("%vendors%",B),C.length>=1&&(C[0].innerHTML=u+C[0].innerHTML,Te()),l.update("",!0)}function m(C){let u="";return C.forEach(E=>{for(let[B,O]of Object.entries(t))E==O.id&&(u=u+O.name+"; ")}),u}function _(){for(let[E,B]of Object.entries(t))s.includes(B.id)||s.push(B.id);for(let E of i)E.id!=null&&!e.includes(E.id)&&e.push(E.id);let C=i.filter(E=>E.iab_id!==null&&e.includes(E.iab_id)).map(E=>E.iab_id);n.vendorConsents.set(C),n.purposeConsents.set(s);let u=a();l.update(u,!1),window.localStorage.setItem("cf_tcf_string",u),JSON.stringify({date:ke}),__tcfapi("ping",2,E=>{console.log(E)}),__tcfapi("getTCData",2,(E,B)=>{},[n.vendors])}function v(){s=[],e=[],n.vendorConsents.empty(),n.purposeConsents.empty();let C=a();l.update(C,!1),window.localStorage.setItem("cf_tcf_string",C)}function F(C,u){C.toLowerCase()=="vendor"?e.includes(parseInt(u))||e.push(parseInt(u)):C.toLowerCase()=="purpose"&&(s.includes(parseInt(u))||s.push(parseInt(u)))}function N(){let C=i.filter(E=>E.iab_id!==null&&e.includes(E.iab_id)).map(E=>E.iab_id);n.vendorConsents.set(C),n.purposeConsents.set(s);let u=a();l.update(u,!1),window.localStorage.setItem("cf_tcf_string",u)}let Be="https://consentflow.de";function Me(){}function Te(){let C=document.getElementsByClassName("cst_accept");Array.from(C).forEach(V=>{V.addEventListener("click",()=>{console.log("Accepted all"),_()})});let u=document.getElementsByClassName("cst_reject");Array.from(u).forEach(V=>{V.addEventListener("click",()=>{console.log("Rejected all"),v()})});let E=document.getElementsByClassName("cst_save_settings");Array.from(E).forEach(V=>{V.addEventListener("click",()=>{console.log("Settings saved"),N()})}),document.getElementById("cst_settings").addEventListener("click",()=>{console.log("pressed");let V=document.getElementsByClassName("cst_main_container");Array.from(V).forEach(w=>{w.style.display="none"});let j=document.getElementsByClassName("cst_settings_container");Array.from(j).forEach(w=>{w.style.display="block"})}),document.getElementById("cst_vendor_settings").addEventListener("click",()=>{let V=document.getElementsByClassName("cst_settings_container");Array.from(V).forEach(w=>{w.style.display="none"});let j=document.getElementsByClassName("cst_vendors_container");Array.from(j).forEach(w=>{w.style.display="block"})}),document.getElementById("cst_reason_settings").addEventListener("click",()=>{let V=document.getElementsByClassName("cst_vendors_container");Array.from(V).forEach(w=>{w.style.display="none"});let j=document.getElementsByClassName("cst_settings_container");Array.from(j).forEach(w=>{w.style.display="block"})});let Ne=document.getElementsByClassName("cst_reason_consent_checkbox");Array.from(Ne).forEach(V=>{V.addEventListener("input",j=>{let w=j.target.getAttribute("value_id");if(w){let Pe=w.split(" ")[1],Re=w.split(" ")[0];F(Pe,Re)}})})}};document.addEventListener("readystatechange",i=>{if(i.target.readyState==="interactive"){let e=Ue()}if(i.target.readyState==="complete"){let e=Fe()}});})();
